import{u as m,a as p,b as x,c as b,j as e,F as t,B as n,L as i,d as j,i as g}from"./index-v13qv4xj.js";import{S as v}from"./Validation-CcqzPUfc.js";function C(){const r=m(),o=p(),{loading:l,error:d}=x(a=>a.posts),s=b({initialValues:{title:"",description:""},validationSchema:v,onSubmit:a=>{const h=Math.floor(Math.random()*500);r(g({id:h,title:a.title,description:a.description})).unwrap().then(()=>{o("/")}).catch(u=>{console.log(u)})}}),c=a=>{a.preventDefault(),s.setTouched({title:!0,description:!0}),s.handleSubmit(a)};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"backgound ",children:e.jsxs(t,{onSubmit:c,className:"container  bg-body p-5 rounded-4 w-75",children:[e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("h2",{className:" mb-2",children:"Add Post"}),e.jsxs("div",{className:"d-flex",children:[e.jsx(n,{className:"nav mb-4 ps-2 me-2",variant:"danger",as:i,to:"/logout",children:"LogOut"}),e.jsx(n,{className:"nav mb-4 ps-2 ",variant:"warning",as:i,to:"/",children:"Dashboard"})]})]}),e.jsxs(t.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[e.jsx(t.Label,{children:"Title"}),e.jsx(t.Control,{type:"text",name:"title",value:s.values.title,onChange:s.handleChange,onBlur:s.handleBlur,isInvalid:!!s.errors.title&&s.touched.title}),e.jsx(t.Control.Feedback,{type:"invalid",children:s.errors.title})]}),e.jsxs(t.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[e.jsx(t.Label,{children:"Description"}),e.jsx(t.Control,{as:"textarea",rows:3,name:"description",value:s.values.description,onChange:s.handleChange,onBlur:s.handleBlur,isInvalid:!!s.errors.description&&s.touched.description}),e.jsx(t.Control.Feedback,{type:"invalid",children:s.errors.description})]}),e.jsx(j,{loading:l,error:d,children:e.jsx(n,{type:"submit",className:"border-0 bg-warning",children:"Submit"})})]})})})}export{C as default};
