import{u as h,j as e,L as l,C as m,R as p,b as x,F as i,B as j,e as b,p as v}from"./index-Dn_4GR93.js";import{u as f}from"./router-CRp-g-Yn.js";import{u as g}from"./formik-BBfmtxip.js";import{S as C}from"./Validation-CCw11HSo.js";import{u as N}from"./use-post-details-CaOHoXpn.js";import"./react-DJG_os-6.js";function D(){const o=h(),c=f(),{record:s,loading:r,error:a}=N(),t=g({initialValues:{title:(s==null?void 0:s.title)||"",description:(s==null?void 0:s.description)||""},enableReinitialize:!0,validationSchema:C,onSubmit:n=>{o(b({id:s.id,title:n.title,description:n.description})).unwrap().then(()=>{o(v.cleanRecord()),c("/")}).catch(u=>console.error(u))}}),d=n=>{n.preventDefault(),t.setTouched({title:!0,description:!0}),t.handleSubmit(n)};return r||!s?e.jsx("div",{className:"d-flex justify-content-center align-items-center min-vh-100",children:e.jsx(l,{loading:r,error:a})}):e.jsx("div",{className:"py-5 backgound min-vh-100 d-flex align-items-center",children:e.jsx(m,{children:e.jsx(p,{className:"justify-content-center",children:e.jsx(x,{xs:12,md:10,lg:8,children:e.jsxs(i,{onSubmit:d,className:"bg-white p-4 rounded shadow-sm",children:[e.jsx("h2",{className:"text-center mb-4",children:"Edit Post"}),e.jsxs(i.Group,{className:"mb-3",controlId:"editPostTitle",children:[e.jsx(i.Label,{children:"Title"}),e.jsx(i.Control,{type:"text",name:"title",placeholder:"Enter post title",value:t.values.title,onChange:t.handleChange,onBlur:t.handleBlur,isInvalid:t.touched.title&&!!t.errors.title}),e.jsx(i.Control.Feedback,{type:"invalid",children:t.errors.title})]}),e.jsxs(i.Group,{className:"mb-4",controlId:"editPostDescription",children:[e.jsx(i.Label,{children:"Description"}),e.jsx(i.Control,{as:"textarea",rows:4,name:"description",placeholder:"Enter description",value:t.values.description,onChange:t.handleChange,onBlur:t.handleBlur,isInvalid:t.touched.description&&!!t.errors.description}),e.jsx(i.Control.Feedback,{type:"invalid",children:t.errors.description})]}),e.jsx(l,{loading:r,error:a,children:e.jsx(j,{type:"submit",variant:"info",className:"w-100",children:"Submit"})})]})})})})})}export{D as default};
