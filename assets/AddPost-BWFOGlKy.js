import{u,a as p,j as e,C as x,R as j,b as g,F as s,B as n,L as b,i as v}from"./index-DlqVZBsh.js";import{u as f,L as a}from"./router-CRp-g-Yn.js";import{u as C}from"./formik-BBfmtxip.js";import{S as N}from"./Validation-CCw11HSo.js";import"./react-DJG_os-6.js";function B(){const o=u(),r=f(),{loading:l,error:d}=p(i=>i.posts),t=C({initialValues:{title:"",description:""},validationSchema:N,onSubmit:i=>{const h=Math.floor(Math.random()*500);o(v({id:h,title:i.title,description:i.description})).unwrap().then(()=>r("/")).catch(m=>console.log(m))}}),c=i=>{i.preventDefault(),t.setTouched({title:!0,description:!0}),t.handleSubmit(i)};return e.jsx("div",{className:"py-5 backgound min-vh-100 d-flex align-items-center",children:e.jsx(x,{children:e.jsx(j,{className:"justify-content-center",children:e.jsx(g,{xs:12,md:10,lg:8,children:e.jsxs(s,{onSubmit:c,className:"bg-white p-4 rounded shadow-sm",children:[e.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-4",children:[e.jsx("h2",{className:"mb-3 mb-md-0",children:"Add Post"}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(n,{variant:"danger",className:"text-white",as:a,to:"/logout",children:"Log Out"}),e.jsx(n,{variant:"light",as:a,to:"/",children:"Dashboard"})]})]}),e.jsxs(s.Group,{className:"mb-3",controlId:"postTitle",children:[e.jsx(s.Label,{children:"Title"}),e.jsx(s.Control,{type:"text",name:"title",placeholder:"Enter post title",value:t.values.title,onChange:t.handleChange,onBlur:t.handleBlur,isInvalid:t.touched.title&&!!t.errors.title}),e.jsx(s.Control.Feedback,{type:"invalid",children:t.errors.title})]}),e.jsxs(s.Group,{className:"mb-4",controlId:"postDescription",children:[e.jsx(s.Label,{children:"Description"}),e.jsx(s.Control,{as:"textarea",rows:4,name:"description",placeholder:"Enter description",value:t.values.description,onChange:t.handleChange,onBlur:t.handleBlur,isInvalid:t.touched.description&&!!t.errors.description}),e.jsx(s.Control.Feedback,{type:"invalid",children:t.errors.description})]}),e.jsx(b,{loading:l,error:d,children:e.jsx(n,{type:"submit",variant:"info",className:"w-100",children:"Submit"})})]})})})})})}export{B as default};
