import{u,a as h,c as m,j as e,F as n,d as p,B as x,e as b,p as j}from"./index-v13qv4xj.js";import{u as g}from"./use-post-details-Bkuldyvy.js";import{S as v}from"./Validation-CcqzPUfc.js";function f(){const a=u(),o=h(),{record:i,loading:r,error:l}=g(),t=m({initialValues:{title:i?i==null?void 0:i.title:"",description:i?i==null?void 0:i.description:""},enableReinitialize:!0,validationSchema:v,onSubmit:s=>{a(b({id:i.id,title:s.title,description:s.description})).unwrap().then(()=>{a(j.cleanRecord()),o("/")}).catch(d=>{console.log(d)})}}),c=s=>{s.preventDefault(),t.setTouched({title:!0,description:!0}),t.handleSubmit(s)};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"backgound ",children:e.jsxs(n,{onSubmit:c,className:"container  bg-body p-5 rounded-4 w-50",children:[e.jsx("h2",{className:"text-center mb-2",children:"Edit Post"}),e.jsxs(n.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[e.jsx(n.Label,{children:"Title"}),e.jsx(n.Control,{type:"text",name:"title",onChange:t.handleChange,value:t.values.title,isInvalid:!!t.errors.title&&t.touched.title,onBlur:t.handleBlur}),e.jsx(n.Control.Feedback,{type:"invalid",children:t.errors.title})]}),e.jsxs(n.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[e.jsx(n.Label,{children:"Description"}),e.jsx(n.Control,{as:"textarea",rows:3,name:"description",onChange:t.handleChange,value:t.values.description,isInvalid:!!t.errors.description&&t.touched.description,onBlur:t.handleBlur}),e.jsx(n.Control.Feedback,{type:"invalid",children:t.errors.description})]}),e.jsx(p,{loading:r,error:l,children:e.jsx(x,{type:"submit",className:"border-0 bg-warning",children:"Submit"})})]})})})}export{f as default};
